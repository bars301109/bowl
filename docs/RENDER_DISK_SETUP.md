# üîß Render Persistent Disk Setup (–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –¥–µ–ø–ª–æ–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:
```
‚úó Failed to create directory: /var/data EACCES
‚ùå Cannot write to /var/data in production!
```

## –ü—Ä–∏—á–∏–Ω–∞
Persistent disk –Ω–µ —Å–æ–∑–¥–∞–Ω –∏–ª–∏ –Ω–µ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ Render.

## –†–µ—à–µ–Ω–∏–µ (4 —à–∞–≥–∞)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard
https://dashboard.render.com

### –®–∞–≥ 2: –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–π —Å–µ—Ä–≤–∏—Å
- –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ "Services"
- –í—ã–±–µ—Ä–∏—Ç–µ **akylman-quiz** (–∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ Persistent Disk

#### –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–µ—Ä–≤–∏—Å–∞:
1. –ù–∞–π–¥–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **"Settings"** (–≤–Ω–∏–∑—É —Å–ª–µ–≤–∞)
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **"Disks"**
3. –ù–∞–∂–º–∏—Ç–µ **"Create Disk"**

#### –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
- **Name**: `data` (–í–ê–ñ–ù–û: –∏–º–µ–Ω–Ω–æ —Ç–∞–∫!)
- **Mount path**: `/var/data` (–í–ê–ñ–ù–û: –∏–º–µ–Ω–Ω–æ —Ç–∞–∫!)
- **Size**: `1` GB (–º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

4. –ù–∞–∂–º–∏—Ç–µ **"Save"**

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
–û–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

**–í–∞—Ä–∏–∞–Ω—Ç A - –ß–µ—Ä–µ–∑ Dashboard:**
1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞–∂–º–∏—Ç–µ **"Manual Deploy"**
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç
3. –ù–∞–∂–º–∏—Ç–µ **"Deploy"**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

**–í–∞—Ä–∏–∞–Ω—Ç B - –ß–µ—Ä–µ–∑ Git:**
```bash
git add -A
git commit -m "Trigger redeploy"
git push origin main
```

## ‚úÖ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏:
```
‚úÖ Akylman Quiz Bowl Server Started
üåç Environment: production
üìÅ Data Directory: /var/data
üóÑÔ∏è  Database: /var/data/db.sqlite ‚úì exists
üìù Tests: /var/data/tests ‚úì exists
‚ö†Ô∏è  PRODUCTION MODE - Data persistence required!
‚úì Data stored in: /var/data
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:
```
‚ùå Cannot write to /var/data
```

–ó–Ω–∞—á–∏—Ç disk **–µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω** - –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –®–∞–≥ 3.

## ‚ùì FAQ

**Q: –ö—É–¥–∞ —è –∫–ª–∏–∫–∞—é –Ω–∞ Settings?**
A: –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (akylman-quiz), –Ω–∞–π–¥–∏—Ç–µ –≤ –ª–µ–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ –ø—É–Ω–∫—Ç **"Settings"** –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Å–µ—Ä–≤–∏—Å–∞.

**Q: –Ø –Ω–µ –≤–∏–∂—É "Disks" –≤ Settings**
A: –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–Ω–∏–∑. Disks –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–∏–∑—É.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π path –≤–º–µ—Å—Ç–æ /var/data?**
A: –ù–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–æ–≤–Ω–æ `/var/data`. –≠—Ç–æ —É–∫–∞–∑–∞–Ω–æ –≤ `render.yaml`.

**Q: –°–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç?**
A: Persistent disk - –ø–ª–∞—Ç–Ω–∞—è –æ–ø—Ü–∏—è –Ω–∞ Render (—Å—Ç–æ–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ $7-15 –≤ –º–µ—Å—è—Ü –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞).

**Q: –ü–æ—á–µ–º—É –¥–∞–Ω–Ω—ã–µ –≤—Å–µ —Ä–∞–≤–Ω–æ —Ç–µ—Ä—è—é—Ç—Å—è?**
A: –í–æ–∑–º–æ–∂–Ω–æ disk –Ω–µ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ Settings ‚Üí Disks –≤–∏–¥–Ω–∞ –∑–∞–ø–∏—Å—å "data /var/data".

## üö® –ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –≤—Å—ë –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π disk (–µ—Å–ª–∏ –µ—Å—Ç—å)**:
   - Settings ‚Üí Disks
   - –ù–∞–∂–º–∏—Ç–µ "Delete" –µ—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "data"

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π**:
   - Settings ‚Üí Disks ‚Üí Create Disk
   - Name: `data`
   - Mount path: `/var/data`
   - Size: 1 GB

3. **–°–¥–µ–ª–∞–π—Ç–µ Manual Deploy**

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –≤ "Logs" tab

–ï—Å–ª–∏ –≤—Å—ë –µ—â–µ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç - —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Render –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–∞ –≤–∞—à–µ–π Render –ø–ª–∞–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è persistent disks (–æ–Ω–∏ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ).
